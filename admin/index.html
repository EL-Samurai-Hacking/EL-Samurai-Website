<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù…ØªØ·ÙˆØ±Ø© - EL Samurai</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background-color: #111;
      color: white;
      padding: 20px;
    }
    h1 {
      color: #0ff;
    }
    label {
      display: block;
      margin: 10px 0 5px;
    }
    input, textarea, select {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 8px;
      margin-bottom: 10px;
    }
    button {
      background-color: #0ff;
      color: #000;
      font-weight: bold;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
    .preview {
      margin-top: 30px;
    }
    .card {
      background: #222;
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 15px;
      position: relative;
    }
    .card img {
      width: 100%;
      border-radius: 10px;
      max-height: 180px;
      object-fit: cover;
    }
    .delete, .edit {
      position: absolute;
      top: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      padding: 5px 10px;
      color: white;
    }
    .delete {
      left: 10px;
      background: red;
    }
    .edit {
      left: 80px;
      background: orange;
    }
    .attachment {
      margin-top: 10px;
      display: block;
      color: #0ff;
    }
  </style>
</head>
<body><h1>ğŸ› ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…: Ø¥Ø¶Ø§ÙØ© / ØªØ¹Ø¯ÙŠÙ„ Ø®Ø¯Ù…Ø©</h1><form id="addServiceForm">
  <input type="hidden" id="editIndex"><label>ğŸ“Œ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label> <input type="text" id="title" required>

<label>ğŸ–¼ï¸ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø£Ùˆ Ø§Ø±ÙØ¹Ù‡Ø§</label> <input type="url" id="imageUrl" placeholder="https://example.com/image.jpg"> <input type="file" id="imageFile" accept="image/*">

<label>ğŸ“ Ø§Ù„ÙˆØµÙ</label>

  <textarea id="desc" rows="3" required></textarea><label>ğŸ“‚ Ø§Ù„ÙØ¦Ø©</label> <select id="category"> <option value="Ø£Ø¯ÙˆØ§Øª">Ø£Ø¯ÙˆØ§Øª</option> <option value="ÙƒÙˆØ±Ø³Ø§Øª">ÙƒÙˆØ±Ø³Ø§Øª</option> <option value="Ø£Ø®Ø¨Ø§Ø±">Ø£Ø®Ø¨Ø§Ø±</option> <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option> </select>

<label>ğŸ”— Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ</label> <input type="url" id="link" placeholder="https://t.me/..." required>

<label>ğŸ“ Ù…Ù„Ù Ù…Ø±ÙÙ‚ (Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„ Ø£Ùˆ Ù…Ù„Ù)</label> <input type="url" id="fileUrl" placeholder="https://example.com/file.zip"> <input type="file" id="fileUpload">

<button type="submit">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø®Ø¯Ù…Ø©</button>

</form><div class="preview" id="preview"></div><script>
  const form = document.getElementById('addServiceForm');
  const preview = document.getElementById('preview');
  const editIndexInput = document.getElementById('editIndex');
  let services = JSON.parse(localStorage.getItem('services') || '[]');

  function renderServices() {
    preview.innerHTML = '';
    services.forEach((s, index) => {
      preview.innerHTML += `
        <div class="card">
          <button class="delete" onclick="deleteService(${index})">Ø­Ø°Ù</button>
          <button class="edit" onclick="editService(${index})">ØªØ¹Ø¯ÙŠÙ„</button>
          <img src="${s.image}" alt="${s.title}">
          <h3>${s.title}</h3>
          <p>${s.desc}</p>
          <p><strong>Ø§Ù„ÙØ¦Ø©:</strong> ${s.category}</p>
          <a href="${s.link}" target="_blank" style="color:#0ff;">Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø¯Ù…Ø©</a>
          ${s.file ? `<a class="attachment" href="${s.file}" target="_blank">ğŸ“ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø±ÙÙ‚</a>` : ''}
        </div>
      `;
    });
  }

  function deleteService(index) {
    if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø©ØŸ")) {
      services.splice(index, 1);
      localStorage.setItem('services', JSON.stringify(services));
      renderServices();
    }
  }

  function editService(index) {
    const s = services[index];
    document.getElementById('editIndex').value = index;
    document.getElementById('title').value = s.title;
    document.getElementById('imageUrl').value = s.image.startsWith('data:') ? '' : s.image;
    document.getElementById('desc').value = s.desc;
    document.getElementById('category').value = s.category;
    document.getElementById('link').value = s.link;
    document.getElementById('fileUrl').value = s.file && !s.file.startsWith('data:') ? s.file : '';
    window.scrollTo(0, 0);
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    let image = document.getElementById('imageUrl').value;
    const imageFile = document.getElementById('imageFile').files[0];
    if (imageFile) image = await readFile(imageFile);

    let file = document.getElementById('fileUrl').value;
    const fileBlob = document.getElementById('fileUpload').files[0];
    if (fileBlob) file = await readFile(fileBlob);

    const newService = {
      title: title.value,
      image: image,
      desc: desc.value,
      category: category.value,
      link: link.value,
      file: file
    };

    const editIndex = editIndexInput.value;
    if (editIndex !== '') {
      services[editIndex] = newService;
      editIndexInput.value = '';
    } else {
      services.push(newService);
    }

    localStorage.setItem('services', JSON.stringify(services));
    form.reset();
    renderServices();
  });

  function readFile(file) {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.onload = () => resolve(reader.result);
      reader.onerror = reject;
      reader.readAsDataURL(file);
    });
  }

  renderServices();
</script></body>
</html>